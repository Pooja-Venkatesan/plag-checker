{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plag Checker</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
  <!-- Google Fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
  <!-- Bootstrap core CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@500;600&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Sansita+Swashed:wght@700&display=swap" rel="stylesheet">
  <link href="{% static 'pc/styles.css' %}" rel="stylesheet" type="text/css">
  <style>

    body{
      background-color: #ffffff;
      color: rgb(0, 0, 0);
      font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif ;

    }
    nav{
      background-color:rgb(255, 255, 255);

    }
    #header{
      background-color: black;
      color: white;
      border-bottom: 50px;
      padding: 5% 0;
    }
    #myTab{
      font-size: 20px;
      font-weight: 400;
      text-decoration: none;
    }

    p.bg {
	font-size: 66px;
	line-height: 80px;
	font-weight: 800;
	text-transform: uppercase;
	background: url(../static/pc/welcome.jpg) 0 0 / cover no-repeat;
	color: #de466c;
	background-clip: text;
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
 }

 #ch{
  text-align: right;
  padding-right: 25px;
 }

 table {
  border-collapse: collapse;
  width: 100%;
  font-family: Arial, Helvetica, sans-serif;
  font-size: 50px;
}

th, td {
  text-align: left;
  padding: 5px;
}

tr:nth-child(even){background-color: #f2f2f2}

th {
  background-color: #d6ceff;
  color: rgb(0, 0, 0);
  font-family: arial black;
}
 

    </style>

</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
    <a class="navbar-brand" style="font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; color:#000000; font-size: 40px; font-weight: bolder;" href="{% url 'plagiarism-check-mainpage' %}"> 
      <!-- {% load static %} <img height="50px" width="50px" src="{% static "pc/product-hunt-brands.svg" %}" alt="logo" /> -->
      <i class="bi bi-clipboard-check-fill"></i> Plag Checker</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon" style="background-color: #606060;"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav" style="margin-left: auto;">
        <li class="nav-item nav-one" >
          <a type="button" style="color: #000000; font-weight: bolder; font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;" class="nav-link btn btn-info" href="{% url 'compare' %}">Compare Documents</a>       
        </li>
        <!-- <li class="nav-item nav-one">
          <a type="button" style="color: #000000; font-weight: bolder; font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;" class="nav-link btn btn-warning" href="{% static 'pc/login.html' %}">Login</a>
        </li> -->
     </ul>
    </div>
  </nav>
   <div id="header">
    <div class="content-fluid justify-content-between">
			<p class="bg"
				style="text-align: center; font-weight: bolder;font-size:10cqb ; font-family: Trirong, serif; margin: 5% auto;">Welcome To Plag Checker
	    </p>
		<hr>
</div>

<div  class="container" style="background-image: url(../static/pc/copy.JPG); background-color: rgb(31, 30, 30); background-repeat: no-repeat; background-position: top right; background-size: contain;">
  
  <h2 style="box-shadow: black;font-family: Arial black, Helvetica, sans-serif; font-weight: bolder; font-size:30px;"><span style="color:#00bbff">Plag Checker </span>Features..</h2>
				<hr>
			<h5 style=" padding: 10px 5px;">
				<ul class="bg li" style="list-style-type: none;font-size: larger;">
				<li><i class="bi bi-cursor-fill"></i> Simple and Free Plagiarism Detection Tool</li> 	
				<li><i class="bi bi-cursor-fill"></i> AI powered Plagiarism Detection Mechanism</li>
				<li><i class="bi bi-cursor-fill"></i> Fast and Accurate report generator</li>
			    </ul>
			</h5>
</div>
			<hr>
    <h3 class="container">To use this plagiarism checker, please copy and paste your text in the box below, then click on the “Check Plagiarism” button, sit back and watch as your article undergoes a free plagiarism scan.   
    </h3>
    <hr>  
   </div> 
   <hr>
   <div class="content-1 container" style="margin: 10px auto;">
    <div class="col-md-6 offset-3 text-content">
      
      <h3 class="container-fluid" style="font-weight: bolder;">Choose a file or copy-paste text to find plagiarism percentage!</h3>
      <div class="tab-content-1">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" id="text-tab" data-toggle="tab" href="#text-input-ws" role="tab"
              aria-controls="text-input-ws" aria-selected="true" onclick="makeInvisible()">Text</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="file-tab" data-toggle="tab" href="#file-input-ws" role="tab"
              aria-controls="file-input-ws" aria-selected="false" style="color:#6c56e6;" onclick="makeVisible()">File Upload</a>
          </li>
        </ul>
        <div class="tab-content" id="myTabContent">
          <div class="tab-pane fade show active" id="text-input-ws" role="tabpanel" aria-labelledby="text-tab">          
            <form id="form1-ws" action="/test/#taru" method="POST">
              {% csrf_token %}               
              <textarea style='padding:auto;' onkeyup="word_checker(this)" maxlength="" id="text-1" name="q" placeholder="Copy Paste the text here.." required></textarea>
              <p id="ch">1500 Words Remaining </p>
              <br>
                <!-- button input text check plagiarism -->
             
                <button type="submit" oninput="reportbtn()" form="form1-ws" id="submit-button-1" class="btn" style="background-color:#6c56e6; font-weight: bold; font-family: Arial, Helvetica, sans-serif; margin: 0 auto;" name="check-plag">
                Check Plagiarism
              </button>
             
                </form>
              <!-- text input report -->

                <!-- <form method="POST" action="{% url 'report' %}">
                  {% csrf_token %}
                  <input type="hidden" name="next" value="{% url 'report' %}">
                  <button type="submit" id="report" class="btn hidden" style="background-color:#56b4e6; font-family: Arial, Helvetica, sans-serif ;font-weight: bold; margin: 0 auto;" name="report-gen" href=" {% url 'report' %} ">Plagiarism Report</button>
                </form>  -->
            
              <!-- ...... -->
          </div>        
          <div class="tab-pane fade" id="file-input-ws" role="tabpanel" aria-labelledby="file-tab">
            <form id="form2-ws" action="/filetest/#taru" enctype="multipart/form-data" method="POST" name="frmFile">
              <p id="file-result"></p>
            {% csrf_token %}
            <!-- <input id="id_docfile" required type="file" name="docfile" accept=".doc, .docx, .pdf, .txt"/> -->
            <div><input type="file" name="docfile" id="docfile" onsubmit="return validate()" required class="demoInputBox" accept=".doc, .docx, .pdf, .txt"/> 
              <div id="file_error">
                {% if file_size_error %}
                <script>
                    alert('{{ file_size_error }}');
                </script>
                {% endif %}
              </div>
              <div id="word_error">
                {% if word_count_error %}
                <script>
                    alert('{{ word_count_error }}');
                </script>
                {% endif %}
              </div>
            </div>
                   
             <!-- button input text check plagiarism -->
          
             <button type="submit" form="form2-ws" id="submit-button-2" class="btn submit-button-2" style="background-color:#6c56e6; font-weight: bold; margin: 0 auto;">
              Check Plagiarism
            </button>  
          </form>         
          </div>


        </div>
      </div>
    </div>
    <br id="taru">
    <div class="container result-div" style="margin-top: 100px;"> 
      <div class="row">
        <div style="overflow: visible; background-color: #ffffff; border: 1px solid #402ea6; color: rgb(0, 0, 0); font-family: Arial, Helvetica, sans-serif; margin: 0 auto;" class="col-md-6 result-1">
          <h2 style="font-weight: bolder; background-color: #f9f7ff; font-family: Arial, Helvetica, sans-serif; ">PLAGIARIZED CONTENT FROM:</h2>
          <hr>
          {% if links %}
              {% for link in links %} 
              <ul class="output-list-1" style="list-style:square; text-align: justify;"> 
                  <li><a href="{{ link }}" target="_blank" style="text-decoration:underline; color: #5874ff;">{{ link }}</a></li>              
              </ul>
              {% endfor %}
              {% else %}
              <br>
              <h4 style="font-weight: bold; margin: 0 auto;">NO MATCH FOUND</h4>
              {% endif %}
          <!-- <ul class="output-list-1" style="list-style:square; text-align: justify;max-width:min-content; padding: 20px;">
            {% for link in links %}            
              <li><a href="{{ links }}" target="_blank" style="text-decoration:underline; color: #6c56e6;">{{ link }}</a></li>
              {% endfor %} -->
              <hr>
              <!-- <h5>{{ text }}</h5>     -->
      </div>
      <div class="col-md-6 result-2" style="text-align: center; align-items: center;">
        <p class="output-per-tot">{{ totalPercent }}%</p>
        <h3 style="font-family: Arial black, Helvetica, sans-serif;">Plagiarized Content</h3>
        <p class="output-per-tot">{{ uniquePercent }}%</p>
        <h3 style="font-family: Arial black, Helvetica, sans-serif;">Unique Content</h3>
        <!-- <ul class="output-list-1" style="list-style:square; text-align: justify;">
        <li> {{ text }}</li>    -->
        
      </div>    
      </div>
      </div>

      <!-- action="{% url 'report' %}" -->
         
      <form method="POST" action="{% url 'report' %}" >
        {% csrf_token %}
        <input type="hidden" name="next" form="form2-ws" value="{% url 'report' %}">
        <button type="submit" id="report" class="btn hidden" style="background-color:#56b4e6; font-family: Arial, Helvetica, sans-serif ;font-weight: bold; margin: 0 auto; display: flex;
        justify-content: center;
        align-items: center;" name="q" ><a style="text-decoration: none; color: white;" >View Plagiarism Report</a></button>
      </form> 
      <br>
      <div class="container" id="view" style="margin: 0 auto; text-align: center;"> 
       
      <h2 style="background-color: #6c56e6; text-align: center; color: #ffffff; margin-top: 100px;">PLAGIARISM ANALYSIS REPORT</h2>
        <h4 style="color: #000000; text-align: left;">CONTENT CHECKED FOR PLAGIARISM:</h4>
        <hr>
        <h5 style="border: #606060; text-align: justify;"> {{ text }}</h5> 
       
        <table>
          <tr style="text-align: justify;color: #000;">
            <th>CONTENT CHECKED FOR PLAGIARISM</th>
            <th>MATCHED SOURCES</th>
            <th>MATCHED SCORE</th>
          </tr>
           
          <tr style="text-align: justify;">
            
            <td style="color: red; text-decoration: underline;">
              {% for key, value in tracker.items %}
              <ul class="output-list-1" style="list-style:square; text-align: justify;">
               <li>{{ key }}</li>
              </ul>
              {% endfor %}
              
            </td>
            <td style="width:20px;">
              {% if links %}
              {% for link in links %} 
              <ul class="output-list-1" style="list-style:square; text-align: justify;"> 
                  <li><a href="{{ link }}" target="_blank" style="text-decoration:underline; color: #5874ff;">{{ link }}</a></li>              
              </ul>
              {% endfor %}
              {% else %}
              <h6>NO MATCH FOUND</h6>
              {% endif %}
            </td>
            <td style="height:30px; margin: 20px 0 ">
            {% if scores %}
                <ul class="output-list-1" style="list-style:none; text-align: justify;">
                {% for score in scores %}
                  <li style="color: #aa1b1b;">{{ score }}</li>
                {% endfor %}
                </ul>
            {% else %}
              <h6>0</h6>
            {% endif %}
            </td>
            
            
          </tr> 
         
        </table>

        <!-- <table>
          <tr style="text-align: justify;color: #000;">
            <th>SIMILAR CONTENT</th>
            <th>MATCHED SOURCES</th>
            <th>MATCHED SCORE</th>
          </tr>
          <tr style="text-align: justify;">
          {% for key, value in tracker.items %} 
            <td style="color: red; text-decoration: underline;">{{key}}</td>
            <td>
              {% for link in links %} 
              
              <ul class="output-list-1" style="list-style:square; text-align: justify;"> 
                  <li><a href="{{ link }}" target="_blank" style="text-decoration:underline; color: #5874ff;">{{ link }}</a></li>              
              </ul>
              
              
              {% endfor %}
               </td>
               <td>
                {% for score in scores %}
              <ul class="output-list-1" style="list-style:none; text-align: justify;">
                           
                  <li style="color: #aa1b1b;">{{ score}}</li>
                </ul>
              {% endfor %}
            
              </td>
          </tr> 
          {% endfor %}
        </table> -->



   
             <hr>
             <table style="border: 1px solid black;text-align: justify; width: 100%; background-color: white;">  
               <tr style="border-collapse: #000;">
                               
                  <th style="font-family: Arial black, Helvetica, sans-serif;text-align: center; color: #000000;">
                    <h5 style="font-family: Arial black, Helvetica, sans-serif;">Unique Content</h5>
                  </th>
                  <td style="color: #000000;">
                    <p class="output-per-tot">{{ uniquePercent }}%</p>
                  </td>

                  <th style="font-family: Arial black, Helvetica, sans-serif;text-align: center; width: fit-content;color: #000000;">
                    <h5>Plagiarized Content:</h5>
                  </th>
                  <td style="color: #000000;">
                    <p class="output-per-tot">{{ totalPercent }}%</p>
                  </td>
               </tr>
              
      </table>

      
    </div>
  </div>
    <footer style="background-color: #000000; color: white; margin: 0 auto; padding: 10px 50px;" class="container-fluid d-flex justify-content-between flex-wrap">
      <div><strong>Copyright &copy; 2023.</strong> All rights reserved.</div>
  
      <div>Plagiarism Detection Tool by <strong>BSA Crescent University</strong></div>
    </footer>
  

  <script>
    function makeVisible() {
      document.getElementById("submit-button-2").style.visibility = "visible";
      document.getElementById("submit-button-1").style.visibility = "hidden";
    }

    function makeInvisible(){
      document.getElementById("submit-button-2").style.visibility = "hidden";
      document.getElementById("submit-button-1").style.visibility = "visible";
    }

    function reportbtn(){
      // document.getElementsById("report").style.visibility = 'visible';
      document.getElementById("report").classList.remove("hidden")
    }


    function word_checker(self){
      elem = document.getElementById("text-1");
      var word = elem.value;
      // number of words in the text
      var spaces = self.value.match(/\S+/g);
      var num_words = spaces ? spaces.length : 0;
      // var num_words = word.split(/\s+/).length;
      // lenght_of_word = word.length;
  
      if(num_words > 1500){
        alert("You have exceeded the word limit. Please enter a text less than 1500 words.");
        elem.value = "";
      }
      else{
        document.getElementById("ch").innerHTML = 1500 - num_words + " Words Remaining";
      }
    }
    // file-size limit
    function validate() {
      document.getElementById("file_error").innerHTML = "";
      document.querySelector(".demoInputBox").style.borderColor = "#F0F0F0";
      var fileInput = document.getElementById("docfile");
      var file_size = fileInput.files[0].size;
      if (file_size > 2097152) {
        document.getElementById("file_error").innerHTML = "File size is greater than 2MB";
        document.querySelector(".demoInputBox").style.borderColor = "#FF0000";
        return false;
       } 
      return true;
}

  </script>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <!-- JQuery -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js"></script>
</body>

</html>